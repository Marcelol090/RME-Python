============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
PyQt6 6.10.2 -- Qt runtime 6.10.2 -- Qt compiled 6.10.0
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /app
configfile: pyproject.toml
plugins: cov-7.0.0, qt-4.5.0, benchmark-5.2.3
collected 13 items

py_rme_canary/tests/unit/vis_layer/ui/test_overlays.py .F.........F.     [100%]

=================================== FAILURES ===================================
___________________ TestBrushCursorOverlay.test_set_position ___________________

self = <unit.vis_layer.ui.test_overlays.TestBrushCursorOverlay object at 0x7fa9752f2060>
parent_widget = <PyQt6.QtWidgets.QWidget object at 0x7fa972d25f90>

    def test_set_position(self, parent_widget):
        """Test setting cursor position."""
        from PyQt6.QtCore import QPoint

        from py_rme_canary.vis_layer.ui.overlays.brush_cursor import BrushCursorOverlay

        overlay = BrushCursorOverlay(parent_widget)
        overlay.set_position(QPoint(100, 200))

>       assert overlay._position.x() == 100
               ^^^^^^^^^^^^^^^^^
E       AttributeError: 'BrushCursorOverlay' object has no attribute '_position'. Did you mean: 'set_position'?

py_rme_canary/tests/unit/vis_layer/ui/test_overlays.py:45: AttributeError
______________________ TestSelectionOverlay.test_set_rect ______________________

self = <unit.vis_layer.ui.test_overlays.TestSelectionOverlay object at 0x7fa9752f3ce0>
parent_widget = <PyQt6.QtWidgets.QWidget object at 0x7fa9752d14f0>

    def test_set_rect(self, parent_widget):
        """Test setting selection rectangle."""
        from PyQt6.QtCore import QRect

        from py_rme_canary.vis_layer.ui.overlays.paste_preview import SelectionOverlay

        overlay = SelectionOverlay(parent_widget)
        rect = QRect(10, 20, 100, 50)

        overlay.set_rect(rect)

>       assert overlay._rect == rect
               ^^^^^^^^^^^^^
E       AttributeError: 'SelectionOverlay' object has no attribute '_rect'. Did you mean: 'rect'?

py_rme_canary/tests/unit/vis_layer/ui/test_overlays.py:189: AttributeError
=========================== short test summary info ============================
FAILED py_rme_canary/tests/unit/vis_layer/ui/test_overlays.py::TestBrushCursorOverlay::test_set_position
FAILED py_rme_canary/tests/unit/vis_layer/ui/test_overlays.py::TestSelectionOverlay::test_set_rect
========================= 2 failed, 11 passed in 0.17s =========================
